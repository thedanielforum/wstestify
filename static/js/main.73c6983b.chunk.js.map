{"version":3,"sources":["components/Nav/index.js","components/Header/index.js","components/Message/index.js","components/Messages/index.js","components/Url/index.js","components/Editor/index.js","components/Footer/index.js","App.js","index.js"],"names":["Nav","className","href","React","Component","Header","id","Message","classnames","this","props","sent","timestamp","msg","Messages","maxScrollTop","messagesContainer","scrollHeight","clientHeight","scrollTop","ref","el","messages","map","message","data","shortid","generate","Url","type","name","onChange","value","url","placeholder","autoFocus","onClick","onConnect","disabled","length","Editor","rows","text","onMessageSend","sendDisabled","Footer","target","App","state","open","timeFormat","bind","e","preventDefault","connection","WebSocket","onmessage","setState","concat","moment","format","onopen","NotificationManager","success","onclose","err","console","log","error","undefined","send","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.73c6983b.chunk.js","sourcesContent":["import React from 'react'\n\nclass Nav extends React.Component {\n  render() {\n    return (\n      <div className=\"navbar navbar-default navbar-fixed-top\">\n        <div className=\"container\">\n          <div className=\"navbar-header\">\n            <a href={void(0)} className=\"navbar-brand\">WsTestify</a>\n            <div className=\"brand-desc\">\n              WebSocket development tool\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Nav\n","import React from 'react'\n\nclass Header extends React.Component {\n  render() {\n    return (\n      <div id=\"page-top\">\n        <div className=\"container\"/>\n      </div>\n    )\n  }\n}\n\nexport default Header\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport classnames from 'classnames'\n\nclass Message extends React.Component {\n  render() {\n    return (\n      <div className=\"chat-message left\">\n        <div className=\"message\">\n          <span className={classnames(\"message-author\", {\n            \"text-info\": this.props.sent === true,\n            \"text-danger\": this.props.sent === false\n          })}>\n            {this.props.sent ? \"Sent\" : \"Received\"}\n          </span>\n          <span className=\"message-date\">\n            {this.props.timestamp}\n          </span>\n          <span className=\"message-content\">\n            {this.props.msg}\n          </span>\n        </div>\n      </div>\n    )\n  }\n}\n\nMessage.propTypes = {\n  sent: PropTypes.bool.isRequired,\n  msg: PropTypes.string.isRequired,\n  timestamp: PropTypes.string\n};\n\nexport default Message\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Message from '../Message'\nimport shortid from 'shortid'\n\nclass Messages extends React.Component {\n  componentDidUpdate() {\n    // Scroll to bottom\n    const scrollHeight = this.messagesContainer.scrollHeight;\n    const height = this.messagesContainer.clientHeight;\n    const maxScrollTop = scrollHeight - height;\n    this.messagesContainer.scrollTop = maxScrollTop > 0 ? maxScrollTop : 0;\n  }\n\n  render() {\n    return (\n      <div className=\"hpanel\">\n        <div className=\"panel-body no-padding\">\n          <div\n            className=\"chat-discussion\"\n            ref={(el) => {\n              this.messagesContainer = el;\n            }}\n          >\n            {this.props.messages.map((message) => {\n              return(\n                <Message\n                  key={shortid.generate()}\n                  sent={message.sent}\n                  timestamp={message.timestamp}\n                  msg={message.data}\n                />\n              )\n            })}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nMessages.propTypes = {\n  messages: PropTypes.array.isRequired,\n};\n\nexport default Messages\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nclass Url extends React.Component {\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-lg-10\">\n            <div className=\"form-group\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                name=\"url\"\n                onChange={this.props.onChange}\n                value={this.props.url}\n                placeholder=\"ws://api.restestify.com/ws/hub\"\n                autoFocus={true}\n              />\n            </div>\n          </div>\n          <div className=\"col-lg-2\">\n            <button\n              className=\"btn btn-success btn-block\"\n              type=\"button\"\n              onClick={this.props.onConnect}\n              disabled={!this.props.url.length}\n            >\n              Connect\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nUrl.propTypes = {\n  onConnect: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  url: PropTypes.string.isRequired,\n};\n\nexport default Url;\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nclass Editor extends React.Component {\n  render() {\n    return (\n      <div>\n        <div className=\"row\">\n          <div className=\"col-lg-12\">\n            <textarea\n              className=\"form-control message-input\"\n              rows={22}\n              name=\"message\"\n              value={this.props.text}\n              onChange={this.props.onChange}\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-lg-12\">\n            <button\n              className=\"btn btn-info btn-block btn-send\"\n              onClick={this.props.onMessageSend}\n              disabled={!this.props.sendDisabled}\n            >\n              Send\n            </button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nEditor.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  onMessageSend: PropTypes.func.isRequired,\n  text: PropTypes.string.isRequired,\n  sendDisabled: PropTypes.bool.isRequired\n};\n\nexport default Editor\n","import React from 'react'\n\nclass Footer extends React.Component {\n  render() {\n    return (\n      <footer>\n        <span className=\"pull-right\">\n          Â© wstestify.com\n        </span>\n        <a href=\"https://github.com/thedanielforum\" target=\"_blank\">My GitHub</a>\n      </footer>\n    )\n  }\n}\n\nexport default Footer\n","import React from 'react'\nimport Nav from './components/Nav'\nimport Header from './components/Header'\nimport Messages from './components/Messages'\nimport Url from './components/Url'\nimport Editor from './components/Editor'\nimport Footer from './components/Footer'\nimport moment from 'moment'\nimport {NotificationContainer, NotificationManager} from 'react-notifications'\nimport './app.css'\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      url: '',\n      open: false,\n      message: '',\n      messages: [],\n    };\n\n    this.timeFormat = \"ddd D MMM YYYY, HH:mm:ss\";\n\n    this.onConnect = this.onConnect.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.onMessageSend = this.onMessageSend.bind(this);\n  }\n\n  onConnect(e) {\n    e.preventDefault();\n    // Connect to web-socket\n    this.connection = new WebSocket(this.state.url);\n    // Listen to onchange event\n    this.connection.onmessage = (msg) => {\n      this.setState({\n        messages: this.state.messages.concat([{\n          sent: false,\n          timestamp: moment().format(this.timeFormat),\n          data: msg.data\n        }])\n      });\n    };\n    this.connection.onopen = () => {\n      this.setState({ open: true });\n      NotificationManager.success('Socket connected');\n    };\n    this.connection.onclose = (err) => {\n      this.setState({ open: false });\n      console.log(err);\n      NotificationManager.error('Socket closed');\n    };\n  }\n\n  onChange(e) {\n    e.preventDefault();\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  onMessageSend(e) {\n    e.preventDefault();\n    if (this.connection !== undefined) {\n      this.connection.send(this.state.message);\n      this.setState({\n        messages: this.state.messages.concat([{\n          sent: true,\n          timestamp: moment().format(this.timeFormat),\n          data: this.state.message\n        }])\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <Nav/>\n        <Header/>\n        <section className=\"bg-light ws-container\">\n          <Url\n            onConnect={this.onConnect}\n            onChange={this.onChange}\n            url={this.state.url}\n          />\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col-lg-6\">\n                <Editor\n                  onChange={this.onChange}\n                  onMessageSend={this.onMessageSend}\n                  text={this.state.message}\n                  sendDisabled={this.state.open}\n                />\n              </div>\n              <div className=\"col-lg-6\">\n                <Messages\n                  messages={this.state.messages}\n                />\n              </div>\n            </div>\n          </div>\n        </section>\n        <Footer/>\n        <NotificationContainer/>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport '../node_modules/react-notifications/lib/notifications.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}